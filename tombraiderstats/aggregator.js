// 2015-08-01
var ljacqu={};ljacqu.config=function(){var t=["enemy","item","hazard","secret","gold","silver","friendly"],e={"cat mummies":"cat mummy","guard dog":"dog",gunmen:"gunman","hk ammo":"hk clips",huskies:"dog",husky:"dog","large medipak":"large medipack",men:"man",mercenaries:"mercenary",mummies:"mummy","shotgun ammo":"shotgun shells","small medipak":"small medipack","smg ammo":"smg clips",switches:"switch",tribesmen:"tribesman","wild boar":"boar","wolf's":"wolf",wolves:"wolf"},n=100,r=function(t){return"span."+t},a=function(){return'[class^="walk-table"] a[href^="walks/"]'};return{classesToAggregate:t,maximumEntryLength:n,plurals:e,selectEntities:r,selectWalkthroughLinks:a}}(),ljacqu.status={},ljacqu.total={},ljacqu.loadJquery=function(t){var e=0,n=function(){return e++,"undefined"!=typeof jQuery?void t():void(100>e?setTimeout(n,100):console.error("Could not load jQuery!"))};if("undefined"==typeof jQuery){delete $;var r=document.createElement("script");r.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js",document.getElementsByTagName("head")[0].appendChild(r),n()}else t()},ljacqu.text=function(){var t=function(t){return t.match(/^secret #\d+$/i)?"secret":t.replace(/^\W+/,"").replace(/\W+$/,"").trim().toLowerCase()},e=function(e){if(e=t(e),""===e)return{name:"",number:0};var n=e.match(/^(\d+) (.*)$/);if(n)return{number:parseInt(n[1]),name:n[2]};var r=["one","two","three","four","five","six"],a=new RegExp("^("+r.join("|")+")\\s(.*?)$"),i=e.match(a);return i?(r.unshift(0),{name:i[2],number:r.indexOf(i[1])}):{name:e,number:1}},n=function(t,e){if(t=t.toLowerCase(),"undefined"!=typeof ljacqu.config.plurals[t])return ljacqu.config.plurals[t];if("s"===t.substr(t.length-1)){var n=t.substr(0,t.length-1);if("undefined"!=typeof e[n])return n}return t},r=function(){var t=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"],e=["the","a"],n=["more","additional","another","other","sets of","boxes of","bunches of","bundles of"],r=function(t){return"("+t.join("\\s|")+"\\s)"};return new RegExp("^("+r(n)+"|"+r(e)+"?"+r(t)+"?)?(.*?)$","i")},a=function(t,e){var a=t.match(r()),i=a?a[a.length-1]:t;return i=n(i,e),i!==t&&(console.log(t+" renamed to "+i),"undefined"!=typeof e[i]?e[i]+=e[t]:e[i]=e[t],delete e[t]),e},i=function(t){var e=t;for(var n in t)t.hasOwnProperty(n)&&(e=a(n,e));return e},o=function(t,e){"undefined"==typeof ljacqu.total[e]&&(ljacqu.total[e]={});for(var n in t)t.hasOwnProperty(n)&&("undefined"!=typeof ljacqu.total[e][n]?ljacqu.total[e][n]+=t[n]:ljacqu.total[e][n]=t[n])},u=function(t){var e=[];for(var n in t)e.push([n,t[n]]);return e.sort(function(t,e){var n=e[1]-t[1];return 0!==n?n:t[0]>e[0]?1:t[0]<e[0]?-1:0}),e},l=function(t,n){n=n||document;var r={};$.each($(ljacqu.config.selectEntities(t),n),function(){var t=e($(this).text());""!==t.name&&("undefined"==typeof r[t.name]?r[t.name]=t.number:r[t.name]+=t.number)});var a=i(i(r));return"overview"===ljacqu.status.mode&&o(a,t),u(a)};return{createdSortedPairArray:u,fetchEntities:l}}(),ljacqu.effects=function(){var t=function(){$("html, body").animate({scrollTop:0},"slow")},e=function(){var t=$(".adsense-flex-header:first");t.fadeOut(function(){$("div:first p.header1").parents("div:eq(1)").siblings("p:eq(2)").after(t),t.fadeIn()})},n=function(t,e){if("single"===ljacqu.status.mode)t.find("tr").find("td:first").attr("class",e);else{var n="width: auto";("undefined"==typeof t.attr("style")||-1===t.attr("style").indexOf(n))&&t.attr("style",n),t.find("tr:even").attr("style","background:#343434;color:#BCBCBC"),t.find("tr.agg_total").find("td").attr("style","border-top: 1px solid #ccc")}};return{moveTopAd:e,scrollToTop:t,styleTable:n}}(),ljacqu.container=function(){var t=function(){var t=$("#wrap");if(0===t.length&&(t=$("#LayoutDiv1"),0===t.length))throw new Error("Could not get base element!");return t},e=function(t){var e=t.split("/");return"ctr_"+e[e.length-1].split(".")[0]},n=function(n){var r=e(n.attr("href"));if(0!==$("#"+r).length)return $("#"+r);t().before('<div id="'+r+'"><h1>'+n.text()+"</h1></div>");var a=$("#"+r);return $("#"+r).find("h1").click(function(){a.find("div:visible").length>0?a.find("div").hide():a.find("div").show()}),a},r=function(){return{attr:function(){return"results"},text:function(){return"Statistics"}}},a=function(t){var r=e(t.attr("href")),a=$("#"+r);return 0===a.length&&(a=n(t)),a},i=function(t){return"sec_"+t},o=function(t,e,n){var r=a(e);r.append('<div class="'+t+'"><h2>'+n+"</h2><table></table></div>");var i=r.find("."+t);return i.find("h2").click(function(){i.find("table").toggle()}),i},u=function(t,e){e=e||r();var n=a(e),u=i(t),l=n.find("."+u);if(0===l.length){var s=t.charAt(0).toUpperCase()+t.substr(1);l=o(u,e,s)}return l},l=function(t){return $('div[id^="ctr"] div.sec_'+t)},s=function(){t().prevAll("div").remove()};return{createContainer:n,getContainer:a,getSection:u,getAllSections:l,removeAll:s}}(),ljacqu.display=function(){var t=function(t,e){return t.length>e?t.substr(0,e).trim()+"...":t},e=function(e,n){for(var r=0,a=0;a<n.length;++a)r+=n[a][1],e.append($("<tr>").append("<td>"+t(n[a][0],ljacqu.config.maximumEntryLength)+'</td><td style="text-align: right">'+n[a][1]+"</td>"));n.length>=2&&e.append('<tr class="agg_total"><td>Total</td><td style="text-align: right">'+r+"</td></tr>")},n=function(t){t.html("<tr><th>Type</th><th>Total</th></tr>")},r=function(){if("single"===ljacqu.status.mode||ljacqu.status.handledLinks===ljacqu.status.foundLinks){for(var t=0;t<ljacqu.config.classesToAggregate.length;t++){var e=ljacqu.config.classesToAggregate[t];"undefined"==typeof ljacqu.status.classes[e]&&ljacqu.container.getAllSections(e).remove()}if("overview"===ljacqu.status.mode){var n={attr:function(){return"_total"},text:function(){return"Total"}};ljacqu.container.createContainer(n);for(var r in ljacqu.total)ljacqu.total.hasOwnProperty(r)&&a(ljacqu.text.createdSortedPairArray(ljacqu.total[r]),r,n)}}},a=function(t,r,a){var i=ljacqu.container.getSection(r,a),o=i.find("table");n(o),t.length>0?(e(o,t),ljacqu.effects.styleTable(o,r),ljacqu.status.classes[r]=!0):o.html("<tr><td>No entities found.</td></tr>")},i=function(t){var e=$("#agg_err");0===e.length&&($("body").prepend('<div id="agg_err" style="color:#300; display:block; border:1px solid #900; background-color:#fee; padding:10px; margin:20px; z-index:2015; opacity:1"></div>'),e=$("#agg_err")),e.hide(),ljacqu.effects.scrollToTop(),e.html(t),e.fadeIn()};return{displayEntities:a,displayError:i,postProcess:r}}(),ljacqu.run=function(){var t=function(t,e){t=t||!1;for(var n=0;n<ljacqu.config.classesToAggregate.length;n++){var r=ljacqu.config.classesToAggregate[n],a=ljacqu.text.fetchEntities(r,t);ljacqu.display.displayEntities(a,r,e)}ljacqu.status.handledLinks++,ljacqu.display.postProcess()},e=function(t){ljacqu.status={mode:t,classes:{},foundLinks:0,handledLinks:0},ljacqu.total={}},n=function(t,e){return{attr:function(){return t},text:function(){return e}}},r=function(){var e=$(ljacqu.config.selectWalkthroughLinks());ljacqu.status.foundLinks=e.length;var r={};$.each(e,function(){var e=$(this).attr("href").split("#")[0],a=n(e,$(this).text());if("undefined"!=typeof r[e]){var i=ljacqu.container.getContainer(a).find("h1");return-1===i.text().indexOf(a.text())&&i.append('<span style="font-size: 0.8em"> + '+a.text()+"</span>"),ljacqu.status.handledLinks++,void ljacqu.display.removeEmptySections()}ljacqu.container.createContainer(a),r[e]=!0,$.get(e,{},function(e){t(e.replace(/<img/g,"<cheese"),a)},"html")})},a=function(){var t=window.location.href.match(/^https?:\/\/(www\.)?tombraiders\.net(\/.*)?$/i);return t||ljacqu.display.displayError('You are not on <b><a href="http://tombraiders.net">tombraiders.net</a></b>'),t};return{initStatus:e,processPage:t,overviewPageRunner:r,checkWebsite:a}}(),ljacqu.loadJquery(function(){ljacqu.run.checkWebsite()&&($(ljacqu.config.selectWalkthroughLinks()).length>0?(ljacqu.run.initStatus("overview"),ljacqu.run.overviewPageRunner()):(ljacqu.run.initStatus("single"),ljacqu.run.processPage()))});
